<uib-alert type="danger" close="setErrorMsg(false, '')" ng-show="error.show">{{error.msg}}</uib-alert>

<div>
  <h3 class="home">CONFIGURATION
    <div class="text-right">
      <button class="btn btn-primary-start" ng-click="saveConfig()">SAVE</button>
      <button class="btn btn-primary-stop" ng-click="goUrl('/main')">CANCEL</button>
    </div>
  </h3>
</div>

<form name="bitmarkForm" novalidate>
  <div class="row">
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="main-title" style="font-weight: bold;">BITMARK RPC</div>
        <p class="configuration-sub">Max connections:{{bitmarkConfig.client_rpc.maximum_connections}}</p>
      </div>
    </div>
    <div class="col-md-8 col-md-offset-0">
      <div class="main-body">
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>CHAIN</b></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">{{ bitmarkConfig.chain.toUpperCase() }}
              <button uib-popover="Click admin on navigator bar to switch chain" popover-trigger="mouseenter" popover-placement="right"
                type="button" class="btn btn-sm">
                  <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
                   </button></div>
          </div>
        </div>
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>Nodes</b></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <div>
                <input class="inputform" type="text" ng-model="bitmarkConfig.nodes" required>
              </div>
            </div>
          </div>
        </div>
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>LISTEN</b>
              <button ng-click="addItem(bitmarkConfig.client_rpc.listen, bitmarkConfig.client_rpc.maximum_connections)">+</button></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <div ng-repeat="listen in bitmarkConfig.client_rpc.listen track by $index">
                {{$index+1}}
                <input class="inputform" type="text" ng-model="bitmarkConfig.client_rpc.listen[$index]" required>
                <button ng-if="bitmarkConfig.client_rpc.listen.length > 1" ng-click="deleteItem(bitmarkConfig.client_rpc.listen, $index)">x</button>
              </div>
            </div>
          </div>
        </div>
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>ANNOUNCE</b>
              <button ng-click="addItem(bitmarkConfig.client_rpc.announce, bitmarkConfig.client_rpc.maximum_connections)">+</button></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <div ng-repeat="announce in bitmarkConfig.client_rpc.announce track by $index">
                {{$index+1}}
                <input class="inputform" type="text" ng-model="bitmarkConfig.client_rpc.announce[$index]" required>
                <button ng-if="bitmarkConfig.client_rpc.announce.length > 1" ng-click="deleteItem(bitmarkConfig.client_rpc.announce, $index)">x</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="main-title" style="font-weight: bold;">BITMARK PEER</div>
      </div>
    </div>
    <div class="col-md-8 col-md-offset-0">
      <div class="main-body">
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>PUBLICKEY</b></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <p class="configuration-text" ng-if="bitmarkConfig.peering.public_key != ''"> {{bitmarkConfig.peering.public_key}}</p>
              <button style=" color: #0060F2; text-transform: uppercase; margin-bottom: 10px; margin-left: 50px;">Generate new keypairs</button></div>
          </div>
        </div>
        <div class="row row-text">
          <div class="row row-text">
            <div class="col-xs-6 col-sm-4">
              <div class="main-text"><b>BROADCAST</b>
                <button ng-click="addItem(bitmarkConfig.peering.broadcast, bitmarkConfig.peering.maximum_connections)">+</button></div>
            </div>
            <div class="col-xs-6 col-sm-8">
              <div class="main-text">
                <div ng-repeat="listen in bitmarkConfig.peering.broadcast track by $index">
                  {{$index+1}}
                  <input class="inputform" type="text" ng-model="bitmarkConfig.peering.broadcast[$index]" required>
                  <button ng-if="bitmarkConfig.peering.broadcast.length > 1" ng-click="deleteItem(bitmarkConfig.peering.broadcast, $index)">x</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>LISTEN</b>
              <button ng-click="addItem(bitmarkConfig.peering.listen, bitmarkConfig.peering.maximum_connections)">+</button></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <div ng-repeat="listen in bitmarkConfig.peering.listen track by $index">
                {{$index+1}}
                <input class="inputform" type="text" ng-model="bitmarkConfig.peering.listen[$index]" required>
                <button ng-if="bitmarkConfig.peering.listen.length > 1" ng-click="deleteItem(bitmarkConfig.peering.listen, $index)">x</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>


  <div class="row">
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="main-title" style="font-weight: bold;">BITMARK PROOFING</div>
      </div>
    </div>
    <div class="col-md-8 col-md-offset-0">
      <div class="main-body">
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>PUBLICKEY</b></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <p class="configuration-text" ng-if="bitmarkConfig.proofing.public_key != ''"> {{bitmarkConfig.proofing.public_key}}</p>
              <button style=" color: #0060F2; text-transform: uppercase; margin-bottom: 10px; margin-left: 50px;">Generate new keypairs</button></div>
          </div>
        </div>
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>PUBLISH</b>
              <button ng-click="addItem(bitmarkConfig.proofing.publish, bitmarkConfig.proofing.maximum_connections)">+</button></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <div ng-repeat="publish in bitmarkConfig.proofing.publish track by $index">
                {{$index+1}}
                <input class="inputform" type="text" ng-model="bitmarkConfig.proofing.publish[$index]" required>
                <button ng-if="bitmarkConfig.proofing.publish.length>1" ng-click="deleteItem(bitmarkConfig.proofing.publish, $index)">x</button>
              </div>
            </div>
          </div>
        </div>
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>SUBMIT</b>
              <button ng-click="addItem(bitmarkConfig.proofing.submit, bitmarkConfig.proofing.maximum_connections)">+</button></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <div ng-repeat="listen in bitmarkConfig.proofing.submit track by $index">
                {{$index+1}}
                <input class="inputform" type="text" ng-model="bitmarkConfig.proofing.submit[$index]" required>
                <button ng-if="bitmarkConfig.proofing.submit.length>1" ng-click="deleteItem(bitmarkConfig.proofing.submit, $index)">x</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="main-title" style="font-weight: bold;">PROOFERD PEER</div>
        <p class="configuration-sub">Max connections:{{prooferdConfig.peering.maximum_connections}}</p>
      </div>
    </div>
    <div class="col-md-8 col-md-offset-0">
      <div class="main-body">
        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>PUBLICKEY</b></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <div class="main-text">
              <p class="configuration-text" ng-if="prooferdConfig.peering.public_key != ''"> {{prooferdConfig.peering.public_key}}</p>
              <button style=" color: #0060F2; text-transform: uppercase; margin-bottom: 10px; margin-left: 50px;">Generate new keypairs</button></div>
          </div>
        </div>

        <div class="row row-text">
          <div class="col-xs-6 col-sm-4">
            <div class="main-text"><b>CONNECT</b>
              <button ng-click="addItem(prooferdConfig.peering.connect, prooferdConfig.peering.maximum_connections)">+</button></div>
          </div>
          <div class="col-xs-6 col-sm-8">
            <table class="main-text">
              <tr ng-repeat-start="connect in prooferdConfig.peering.connect track by $index">
                <td># {{$index+1}}</td>
                <td></td>
                <td></td>
              </tr>
              <tr>
                <td style="font-weight:normal;">PUBLICKEY</td>
                <td><input class="inputform" type="text" ng-model="prooferdConfig.peering.connect[$index].public_key" ng-pattern="publicKeyPattern"
                    required name="peerConnectpublic_key{{$index}}"></td>
                <td rowspan="3"><button ng-click="deleteItem(prooferdConfig.peering.connect, $index)">x</button></td>
              </tr>
              <tr>
                <td style="font-weight:normal;">Blocks</td>
                <td><input class="inputform" type="text" ng-model="prooferdConfig.peering.connect[$index].blocks" required></td>
                <td></td>
              </tr>
              <tr ng-repeat-end>
                <td style="font-weight:normal;">Submit</td>
                <td><input class="inputform" type="text" ng-model="prooferdConfig.peering.connect[$index].submit" required></td>
                <td></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="row"> -->
  <!--   <div class="col-md-4">    -->
  <!--       <div class="panel panel-default"> -->
  <!--       <div class="main-title" style="font-weight: bold;">MINER</div> -->
  <!--       <p class="configuration-sub" >Max connections: {{bitmarkConfig.Mining.MaximumConnections}}</p> -->
  <!--       </div> -->
  <!--    </div>  -->
  <!--     <div class="col-md-8 col-md-offset-0"> -->
  <!--         <div class="main-body">  -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--                  <div class="main-text"><b>LISTEN</b> -->
  <!--                  <button ng-click="addItem(bitmarkConfig.Mining.Listen, bitmarkConfig.Mining.MaximumConnections)">+</button></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--                 <div class="main-text"> -->
  <!--                  <div ng-repeat="listen in bitmarkConfig.Mining.Listen track by $index"> -->
  <!--                  {{$index+1}} -->
  <!--                  <input class="inputform" type="text" ng-model="bitmarkConfig.Mining.Listen[$index]" required> -->
  <!--                  <button ng-if="bitmarkConfig.Mining.Listen.length>1" ng-click="deleteItem(bitmarkConfig.Mining.Listen, $index)">x</button> -->
  <!--                 </div> -->
  <!--                 </div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--         </div> -->
  <!--     </div> -->
  <!-- </div> -->

  <!-- <div class="row"> -->
  <!--   <div class="col-md-4">    -->
  <!--     <div class="panel panel-default"> -->
  <!--     <div class="main-title" style="font-weight: bold;">BITCOIN</div> -->
  <!--     </div> -->
  <!--   </div>  -->
  <!--   <div class="col-md-8 col-md-offset-0"> -->
  <!--       <div class="main-body"> -->
  <!--            <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-12"> -->
  <!--                 <div class="main-text"> -->
  <!--                    <span class="main-text"> -->
  <!--                      <label> -->
  <!--                      <input type="radio" ng-model="bitcoinUseProxy" value="local"> -->
  <!--                      <span>LOCAL-BITCOIN</span> -->
  <!--                      </label> -->
  <!--                      <label ng-hide="bitmarkConfig.Chain == 'local'"> -->
  <!--                      <input type="radio" ng-model="bitcoinUseProxy" value="other"> -->
  <!--                      PROXY -->
  <!--                      </label> -->
  <!--                      <label ng-hide="bitmarkConfig.Chain == 'local' || bitmarkConfig.Chain == 'bitmark'"> -->
  <!--                      <input type="radio" ng-model="bitcoinUseProxy" value="testing"> -->
  <!--                       BITMARKINC-PROXY -->
  <!--                       </label> -->
  <!--                        <button uib-popover="Trustworthy bitcoin proxy from Bitmark Inc, help you to get rid of setting up a full node bitcoin (around 50 GB). Bitmark RPC chain should be testing or bitmark" popover-trigger="mouseenter" popover-placement="right" type="button" class="btn btn-sm" ng-hide="bitmarkConfig.Chain == 'local'"> -->
  <!--                       <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> -->
  <!--                        </button> -->
  <!--                      </span> -->
  <!--                 </div> -->
  <!--               </div> -->
  <!--            </div> -->
  <!--         </div> -->
  <!--       <\!-- for local proxy -\-> -->
  <!--       <div class="row row-text" ng-show="bitcoinUseProxy == 'local'"> -->
  <!--             <div class="row row-text"> -->
  <!--                 <div class="col-xs-6 col-sm-4"> -->
  <!--                   <div class="main-text"><b>USERNAME</b></div> -->
  <!--                 </div> -->
  <!--                 <div class="col-xs-6 col-sm-8"> -->
  <!--                   <div class="main-text"> -->
  <!--                   <input class="inputform" type="text" ng-model="localBitcoin.Username" required> -->
  <!--                   </div> -->
  <!--                 </div> -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>PASSWORD</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text"> -->
  <!--                   <input class="inputform" type="password" ng-model="localBitcoin.Password"> -->
  <!--                   <div ng-show="localBitcoin.Password.length > 0"><p>verify</p></div> -->
  <!--                   <div ng-show="localBitcoin.Password.length > 0"><input type="password" ng-model="verifyPassword"> -->
  <!--                   <div ng-show="!bitcoinPasswordEqual">not equal</div> -->
  <!--                   </div> -->
  <!--               </div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>URL</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text"><input class="inputform" type="text" ng-model="localBitcoin.URL" required></div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>FEE</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text"><input class="inputform" type="text" ng-model="localBitcoin.Fee"></div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>ADDRESS</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text"><input class="inputform" type="text" ng-model="localBitcoin.Address"></div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--       </div> -->
  <!--         <\!-- for other proxy -\-> -->
  <!--       <div class="row row-text" ng-show="bitcoinUseProxy == 'other'" > -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>URL</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text"><input class="inputform" type="text" ng-model="otherProxyTemp.URL" required></div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>FEE</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text">{{ otherProxyTemp.Fee }}</div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>ADDRESS</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text"><input class="inputform" type="text" ng-model="otherProxyTemp.Address"></div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--       </div> -->
  <!--       <\!-- for bitmark testnet proxy -\-> -->
  <!--       <div class="row row-text" ng-show="bitcoinUseProxy == 'testing' && bitmarkConfig.Chain == 'testing'"> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>URL</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text">{{ bitmarkTestNetProxyTemp.URL }}</div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>FEE</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text">{{ bitmarkTestNetProxyTemp.Fee }}</div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>ADDRESS</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-8"> -->
  <!--               <div class="main-text"><input class="inputform" type="text" ng-model="bitmarkTestNetProxyTemp.Address"></div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--       </div> -->
  <!--       <\!-- for bitmark proxy -\-> -->
  <!--       <div class="row row-text" ng-show="bitcoinUseProxy == 'bitmark' && bitmarkConfig.Chain == 'bitmark'"> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>URL</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-9"> -->
  <!--               <div class="main-text">{{ bitmarkProxyTemp.URL }}</div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>FEE</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-9"> -->
  <!--               <div class="main-text">{{ bitmarkProxyTemp.Fee }}</div> -->
  <!--               </div>   -->
  <!--             </div> -->
  <!--             <div class="row row-text"> -->
  <!--               <div class="col-xs-6 col-sm-4"> -->
  <!--               <div class="main-text"><b>ADDRESS</b></div> -->
  <!--               </div> -->
  <!--               <div class="col-xs-6 col-sm-9"> -->
  <!--               <div class="main-text"><input class="inputform" type="text" ng-model="bitmarkProxyTemp.Address"></div> -->
  <!--               </div>   -->
  <!--         </div> -->
  <!--       </div> -->
  <!--   </div>  -->
  <!-- </div> -->
</form>
<br/><br/>

<div class="text-right">
  <button class="btn btn-primary-start" ng-click="saveConfig()">SAVE</button>
  <button class="btn btn-primary-stop " ng-click="goUrl('/main')">CANCEL</button>
</div>

<br/>
