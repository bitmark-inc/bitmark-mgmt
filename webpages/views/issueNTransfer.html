<div>
  <h3>Issue and Transfer Bitmark</h3>
  <!-- setup section -->
  <div class="panel panel-default">
    <div class="panel-heading">Info</div>
    <div class="panel-body">
      <p ng-show="showSetup">Setup an identity in bitmark and a bitcoin wallet to issue and transfer your assets. </p>
      <div ng-show="!showSetup">
        <p>
          <b>Chain</b>
          {{bitmarCliConfig.Network}}
        </p>
        <p>
          <b>Connect</b>
          {{bitmarCliConfig.Connect}}
        </p>
        <p>
          <b>Identity Name</b>
          {{bitmarCliConfig.Identities[0].Name}}
        </p>
        <p>
          <b>Identity Description</b>
          {{bitmarCliConfig.Identities[0].Description}}
        </p>
        <p>
          <b>Identity Publickey</b>
          {{bitmarCliConfig.Identities[0].Public_key}}
        </p>
        <p ng-show="bitmarkPayError != nil">
          {{bitmarkPayError}}
        </p>
        <div ng-show="bitmarkPayError == nil">
          <p>
            <b>Bitcoin Address</b>
            {{bitmarkPayConfig.Address}}
          </p>
          <p>
            <b>Estimated Balance</b>
            {{bitmarkPayConfig.Estimated_balance}}
          </p>
          <p>
            <b>Available Balance</b>
            {{bitmarkPayConfig.Available_balance}}
          </p>
        </div>
      </div>
    </div>
  </div>

  <uib-accordion>
    <!-- add setup fields -->
    <uib-accordion-group is-open="setupAccord.open" ng-show="showSetup">
      <uib-accordion-heading>
        Setup
        <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': setupAccord.open, 'glyphicon-chevron-right': !setupAccord.open}"></i>
      </uib-accordion-heading>
      <div ng-show="setupError != ''">
        {{setupError}}
      </div>
      <form>
        <div class="panel-body">
          <p>
            <b>Chain</b>
            {{bitmarkChain}}
          </p>
          <p>
            <label>
              Connect
              <input type="text" ng-model="bitmarkCliSetupConfig.Connect">
            </label>
          </p>
          <p>
            <label>
              Identity Name
              <input type="text" ng-model="bitmarkCliSetupConfig.Identity">
            </label>
          </p>
          <p>
            <label>
              Identity Description
              <textarea ng-model="bitmarkCliSetupConfig.Description"></textarea>
            </label>
          </p>
          <p>
            <label>
              Identity Password
              <input type="password" ng-model="bitmarkCliSetupConfig.Password">
            </label>
            <label>
              Verify Identity Password
              <input type="password">
            </label>
          </p>
          <p>
            <label>
              Pay Password
              <input type="password" ng-model="bitmarkPayEncryptConfig.Password">
            </label>
            <label>
              Verify Pay Password
              <input type="password">
            </label>
          </p>
        </div>
        <button ng-click="submitSetup()">submit</button>
      </form>
    </uib-accordion-group>    
    <!-- Issue setction -->
    <uib-accordion-group is-open="issueAccord.open">
      <uib-accordion-heading>
        Issue Asset
        <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': issueAccord.open, 'glyphicon-chevron-right': !issueAccord.open}"></i>
      </uib-accordion-heading>

      <!-- submit success alert -->
      <uib-alert type="{{issueResult.type}}" close="clearIssueResult()" ng-if="issueResult.msg != ''">
        <div>
          <b>{{issueResult.msg}}</b>
          <table ng-show="issueResult.cliResult != null">
            <tr>
              <th>txid</th>
              <th>currency</th>
              <th>address</th>
            </tt>
            <tr ng-repeat="index in issueResult.cliResult.IssueIds track by $index">
              <td>{{issueResult.cliResult.IssueIds[$index]}}</td>
              <td>{{issueResult.cliResult.PaymentAddress[$index].Currency}}</td>
              <td>{{issueResult.cliResult.PaymentAddress[$index].Address}}</td>
            </tr>
          </table>      
        </div>
      </uib-alert>
        
      <div ng-show="issueError != ''">
        {{issueError}}
      </div>

      <form>
        <div class="panel-body">
          <p>
            <label>
              Name
              <input type="text" ng-model="bitmarkCliIssueConfig.Asset">
            </label>
          </p>
          <p>
            <label>
              Description
              <textarea ng-model="bitmarkCliIssueConfig.Description"></textarea>
            </label>
          </p>
          <p>
            <label>
              Fingerprint
              <input type="text" ng-model="bitmarkCliIssueConfig.Fingerprint">
            </label>
          </p>
          <p>
            <label>
              Quantity
              <input type="number" ng-model="bitmarkCliIssueConfig.Quantity">
            </label>
          </p>
          <p>
            <label>
              Identity Password
              <input type="password" ng-model="bitmarkCliIssueConfig.Password">
            </label>
          </p>
          <p>
            <label>
              Pay Password
              <input type="password" ng-model="bitmarkPayIssueConfig.Password">
            </label>
          </p>        
        </div>
        <button ng-click="submitIssueTest()">submit</button>
      </form>
    </uib-accordion-group>

    <!-- Transfer setction -->
    <uib-accordion-group is-open="transferAccord.open">
      <uib-accordion-heading>
        Transfer Bitmark
        <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': transferAccord.open, 'glyphicon-chevron-right': !transferAccord.open}"></i>
      </uib-accordion-heading>
      <form>
        <div class="panel-body">
          <p>
            <label>
              Transaction Id
              <input type="text">
            </label>
          </p>
          <p>
            <label>
              Receiver
              <input type="text">
            </label>
          </p>
          <p>
            <label>
              Identity Password
              <input type="password">
            </label>
          </p>
          <p>
            <label>
              Pay Password
              <input type="password">
            </label>
          </p>        
        </div>
        <button>submit</button>
      </form>
    </uib-accordion-group>
  </uib-accordion>
</div>
